# Документация API Проекта Ujin

## Обзор

Данный проект предоставляет API для взаимодействия с системой тикетов Ujin, в частности, для получения информации о тикетах, связанных с объектами (комплексами).

Базовый маршрут API: `/api`

## Эндпоинты

### 1. Получение списка названий комплексов

*   **URL:** `/api/complexList`
*   **Метод:** `POST`
*   **Описание:** Возвращает список уникальных названий комплексов, связанных с тикетами.
*   **Запрос:** Тело запроса для этого эндпоинта не требуется. Контроллер внутренне использует статический `ApiToken` для запросов к внешнему API.
*   **Ответ:** Массив строк (названий комплексов).

    Пример успешного ответа (статус 200 OK):
    ```json
    [
      "Название Комплекса 1",
      "Название Комплекса 2",
      // ... другие названия комплексов
    ]
    ```

### 2. Получение тикетов по названию комплекса

*   **URL:** `/api/complex`
*   **Метод:** `POST`
*   **Описание:** Возвращает список тикетов связанных с указанным комплексом.
*   **Запрос:** Требуется параметр `complexName` в теле запроса.

    Пример тела запроса:
    ```
    complexName=Название Комплекса 1
    ```

*   **Ответ:** Массив объектов `Ticket`.

    Пример успешного ответа (статус 200 OK):
    ```json
    [
    {
        "id": 123,
        "title": "Foo",
        "description": "Foor",
        "number": "123-45",
        "priority": "low",
        "status": "assigned",
        "objects": [
            {
                "id": 12,
                "type": "building"
            }
        ],
        "parts": [
            {
                "id": 34,
                "title": "FOR:УМ25 29",
                "type": "complex"
            },
            {
                "id": 56,
                "title": "Москва, ул. Умная, 11",
                "type": "building"
            }
        ]
    },
    ...
    
  ]
    ```

## Модели данных (сокращенно)

Основные структуры данных, используемые в ответах, определены в моделях проекта. Важные модели включают:

*   `Ticket`: Представляет информацию о тикете.
*   `UjinObject`: Представляет объект (например, здание).
*   `TicketData`: Содержит список тикетов и информацию о пагинации.
*   `TicketResponse`: Обертка для ответа API, содержащая данные о тикетах.

Для полного представления структур данных смотрите файлы моделей в проекте (например, `ujin/Models/TicketResponse.cs`). 